server {
    listen 8080;
    server_name localhost;
    root /usr/share/nginx/html;
    index index.html;

    # Charset
    charset utf-8;

    # Gzip compression
    gzip on;
    gzip_types text/plain text/css application/json application/javascript text/xml application/xml;

    # Ruta principal: /FVCKOFF -> index.html
    location = /FVCKOFF {
        try_files /HTML/index.html =404;
    }

    # Ruta raíz redirige a /FVCKOFF
    location = / {
        return 301 /FVCKOFF;
    }

    # Rutas limpias sin .html
    location = /login {
        try_files /HTML/login.html =404;
    }

    location = /checkout {
        try_files /HTML/checkout.html =404;
    }

    location = /admin {
        try_files /HTML/admin.html =404;
    }

    location = /about {
        try_files /HTML/about.html =404;
    }

    location = /contact {
        try_files /HTML/contact.html =404;
    }

    location = /shipping {
        try_files /HTML/shipping.html =404;
    }

    location = /returns {
        try_files /HTML/returns.html =404;
    }

    location = /privacy {
        try_files /HTML/privacy.html =404;
    }

    location = /terms {
        try_files /HTML/terms.html =404;
    }

    location = /cookies {
        try_files /HTML/cookies.html =404;
    }

    # Archivos estáticos (CSS, JS, IMG)
    location /CSS/ {
        try_files $uri =404;
    }

    location /JS/ {
        try_files $uri =404;
    }

    location /IMG/ {
        try_files $uri =404;
    }

    # Redirecciones de URLs antiguas a nuevas (compatibilidad)
    location = /HTML/index.html {
        return 301 /FVCKOFF;
    }

    location = /HTML/login.html {
        return 301 /login;
    }

    location = /HTML/checkout.html {
        return 301 /checkout;
    }

    location = /HTML/admin.html {
        return 301 /admin;
    }

    location = /HTML/about.html {
        return 301 /about;
    }

    location = /HTML/contact.html {
        return 301 /contact;
    }

    location = /HTML/shipping.html {
        return 301 /shipping;
    }

    location = /HTML/returns.html {
        return 301 /returns;
    }

    location = /HTML/privacy.html {
        return 301 /privacy;
    }

    location = /HTML/terms.html {
        return 301 /terms;
    }

    location = /HTML/cookies.html {
        return 301 /cookies;
    }

    # Cache para archivos estáticos
    location ~* \.(jpg|jpeg|png|gif|ico|css|js|webp)$ {
        expires 7d;
        add_header Cache-Control "public, immutable";
    }

    # Deshabilitar acceso a archivos ocultos
    location ~ /\. {
        deny all;
    }
}
